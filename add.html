<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="my.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#"><img src="assets/clipboard-plus-fill.svg"> 병원 환자 관리 서비스</a>
        <Margin></Margin>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link" href="index.html">홈</a>
            <a class="nav-link" href="view.html">View</a>
            <a class="nav-link active" href="#">환자 정보 추가하기<span class="sr-only">(current)</span></a>
            <a class="nav-link" href="edit.html">환자 정보 수정하기 </a>
          </div>
        </div>
      </nav>
    <div class="body">
    <h2>< 환자 정보 추가하기 ></h2>
    다음 항목들을 입력하시오. <p></p>
    <form id="patientForm" action="/action_page.php">
        이름:<br>
        <input type="text" id="fname" name="fname" required><br>

        <p>성별:</p>
        <input type="radio" name="gender" value="male"> 남자
        <input type="radio" name="gender" value="female"> 여자
        <p></p>
        생년월일:<br><br>
        <input type="date" name="birthdate">

        <p></p>
        전화번호:<br><br>
        <input type="text" id="phone" name="phone" placeholder="010-xxxx-yyyy" required><br>
        <span id="phoneError" style="color: red;"></span>

        <br>사는 동네:
        <select name="neighbor">
            <option value="" disabled selected>동네 선택</option>
            <option value="대흥동">대흥동</option>
            <option value="두호동">두호동</option>
            <option value="양덕동">양덕동</option>
            <option value="여남동">여남동</option>
            <option value="용흥동">용흥동</option>
            <option value="우현동">우현동</option>
            <option value="장량동">장량동</option>
            <option value="장성동">장성동</option>
            <option value="창포동">창포동</option>
            <option value="환호동">환호동</option>
            <option value="흥해읍">흥해읍</option>
        </select>
        <br>

        <br>
        <p>* 모든 정보 기입 후, 제출하세요! *</p>
        <button type="button" id="submitBtn">추가</button>
        <input type="reset" value="리셋">
    </form>

    <script>
        document.getElementById("submitBtn").addEventListener("click", function () {
            // 필수 입력 항목을 확인하고 비어 있으면 알림 표시
            var fname = document.getElementById("fname").value;
            var gender = document.querySelector("input[name='gender']:checked");
            var birthdate = document.getElementsByName("birthdate")[0].value;
            var phoneInput = document.getElementById("phone");
            var phone = phoneInput.value;
            var neighbor = document.getElementsByName("neighbor")[0].value;

            var phonePattern = /^010-\d{4}-\d{4}$/;

            if (!fname || !gender || !birthdate || !phone || !neighbor) {
                alert("모든 항목에 답변을 하셔야 합니다.");
            } else if (!phonePattern.test(phone)) {
                document.getElementById("phoneError").textContent = "올바른 전화번호 형식이 아닙니다.";
            } else {
                document.getElementById("phoneError").textContent = ""; // 오류 메시지 초기화
                // 모든 필수 항목에 답변이 있는 경우, 폼 제출
                document.getElementById("patientForm").submit();
                alert("추가 되었습니다.");
            }
        });
    </script>
    </div>
</body>

</html>